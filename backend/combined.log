{"level":"error","message":"GEMINI_API_KEY not found in .env file.","timestamp":"2025-05-30T04:49:59.796Z"}
{"level":"error","message":"GEMINI_API_KEY not found in .env file.","timestamp":"2025-05-30T04:51:29.959Z"}
{"level":"info","message":"Received message: hey","timestamp":"2025-05-30T04:55:27.135Z"}
{"level":"error","message":"Error sending message to Gemini API: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent: [404 Not Found] models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent: [404 Not Found] models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n    at async generateContent (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:867:22)\n    at async ChatSession.sendMessage (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:1210:9)\n    at async exports.sendChatMessage (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\controllers\\chatbotController.js:57:20)","timestamp":"2025-05-30T04:55:28.506Z"}
{"level":"info","message":"Received message: hey","timestamp":"2025-05-30T04:57:29.688Z"}
{"level":"info","message":"Sent response: Hey there! How can I help you today?\n","timestamp":"2025-05-30T04:57:31.391Z"}
{"level":"info","message":"Received message: write an essay on my father","timestamp":"2025-05-30T04:59:52.804Z"}
{"level":"error","message":"Error sending message to Gemini API: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent: [400 Bad Request] Invalid value at 'system_instruction' (type.googleapis.com/google.ai.generativelanguage.v1beta.Content), \"You are Skinthia, an AI skincare expert for The Ordinary website. Your purpose is to assist users with questions directly related to skincare products available on The Ordinary website, general skincare advice relevant to these products, and information about the website's features (like categories, checkout process). You can handle greetings politely. If a user asks about something completely unrelated to skincare or the website, politely inform them that you can only answer questions about skincare products on The Ordinary and the website itself, and redirect them to ask a relevant question.\" [{\"@type\":\"type.googleapis.com/google.rpc.BadRequest\",\"fieldViolations\":[{\"field\":\"system_instruction\",\"description\":\"Invalid value at 'system_instruction' (type.googleapis.com/google.ai.generativelanguage.v1beta.Content), \\\"You are Skinthia, an AI skincare expert for The Ordinary website. Your purpose is to assist users with questions directly related to skincare products available on The Ordinary website, general skincare advice relevant to these products, and information about the website's features (like categories, checkout process). You can handle greetings politely. If a user asks about something completely unrelated to skincare or the website, politely inform them that you can only answer questions about skincare products on The Ordinary and the website itself, and redirect them to ask a relevant question.\\\"\"}]}]","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent: [400 Bad Request] Invalid value at 'system_instruction' (type.googleapis.com/google.ai.generativelanguage.v1beta.Content), \"You are Skinthia, an AI skincare expert for The Ordinary website. Your purpose is to assist users with questions directly related to skincare products available on The Ordinary website, general skincare advice relevant to these products, and information about the website's features (like categories, checkout process). You can handle greetings politely. If a user asks about something completely unrelated to skincare or the website, politely inform them that you can only answer questions about skincare products on The Ordinary and the website itself, and redirect them to ask a relevant question.\" [{\"@type\":\"type.googleapis.com/google.rpc.BadRequest\",\"fieldViolations\":[{\"field\":\"system_instruction\",\"description\":\"Invalid value at 'system_instruction' (type.googleapis.com/google.ai.generativelanguage.v1beta.Content), \\\"You are Skinthia, an AI skincare expert for The Ordinary website. Your purpose is to assist users with questions directly related to skincare products available on The Ordinary website, general skincare advice relevant to these products, and information about the website's features (like categories, checkout process). You can handle greetings politely. If a user asks about something completely unrelated to skincare or the website, politely inform them that you can only answer questions about skincare products on The Ordinary and the website itself, and redirect them to ask a relevant question.\\\"\"}]}]\n    at handleResponseNotOk (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n    at async generateContent (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:867:22)\n    at async ChatSession.sendMessage (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:1210:9)\n    at async exports.sendChatMessage (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\controllers\\chatbotController.js:71:20)","timestamp":"2025-05-30T04:59:54.155Z"}
{"level":"info","message":"Received message: what are the products in this store","timestamp":"2025-05-30T05:01:21.376Z"}
{"level":"error","message":"Error sending message to Gemini API: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent: [400 Bad Request] Invalid value at 'system_instruction' (type.googleapis.com/google.ai.generativelanguage.v1beta.Content), \"You are Skinthia, an AI skincare expert for The Ordinary website. Your purpose is to assist users with questions directly related to skincare products available on The Ordinary website, general skincare advice relevant to these products, and information about the website's features (like categories, checkout process). You can handle greetings politely. If a user asks about something completely unrelated to skincare or the website, politely inform them that you can only answer questions about skincare products on The Ordinary and the website itself, and redirect them to ask a relevant question.\" [{\"@type\":\"type.googleapis.com/google.rpc.BadRequest\",\"fieldViolations\":[{\"field\":\"system_instruction\",\"description\":\"Invalid value at 'system_instruction' (type.googleapis.com/google.ai.generativelanguage.v1beta.Content), \\\"You are Skinthia, an AI skincare expert for The Ordinary website. Your purpose is to assist users with questions directly related to skincare products available on The Ordinary website, general skincare advice relevant to these products, and information about the website's features (like categories, checkout process). You can handle greetings politely. If a user asks about something completely unrelated to skincare or the website, politely inform them that you can only answer questions about skincare products on The Ordinary and the website itself, and redirect them to ask a relevant question.\\\"\"}]}]","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent: [400 Bad Request] Invalid value at 'system_instruction' (type.googleapis.com/google.ai.generativelanguage.v1beta.Content), \"You are Skinthia, an AI skincare expert for The Ordinary website. Your purpose is to assist users with questions directly related to skincare products available on The Ordinary website, general skincare advice relevant to these products, and information about the website's features (like categories, checkout process). You can handle greetings politely. If a user asks about something completely unrelated to skincare or the website, politely inform them that you can only answer questions about skincare products on The Ordinary and the website itself, and redirect them to ask a relevant question.\" [{\"@type\":\"type.googleapis.com/google.rpc.BadRequest\",\"fieldViolations\":[{\"field\":\"system_instruction\",\"description\":\"Invalid value at 'system_instruction' (type.googleapis.com/google.ai.generativelanguage.v1beta.Content), \\\"You are Skinthia, an AI skincare expert for The Ordinary website. Your purpose is to assist users with questions directly related to skincare products available on The Ordinary website, general skincare advice relevant to these products, and information about the website's features (like categories, checkout process). You can handle greetings politely. If a user asks about something completely unrelated to skincare or the website, politely inform them that you can only answer questions about skincare products on The Ordinary and the website itself, and redirect them to ask a relevant question.\\\"\"}]}]\n    at handleResponseNotOk (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n    at async generateContent (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:867:22)\n    at async ChatSession.sendMessage (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:1210:9)\n    at async exports.sendChatMessage (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\controllers\\chatbotController.js:71:20)","timestamp":"2025-05-30T05:01:22.463Z"}
{"level":"info","message":"Received message: hey","timestamp":"2025-05-30T05:02:50.654Z"}
{"level":"error","message":"Error sending message to Gemini API: [GoogleGenerativeAI Error]: Content should have 'parts' property with an array of Parts","stack":"Error: [GoogleGenerativeAI Error]: Content should have 'parts' property with an array of Parts\n    at validateChatHistory (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:1058:19)\n    at new ChatSession (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:1149:13)\n    at GenerativeModel.startChat (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\@google\\generative-ai\\dist\\index.js:1401:16)\n    at exports.sendChatMessage (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\controllers\\chatbotController.js:55:24)\n    at Layer.handleRequest (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\Duaa Syed\\OneDrive\\Desktop\\Semester Project - TheOrdinary - Copy\\backend\\node_modules\\router\\index.js:295:15","timestamp":"2025-05-30T05:02:50.657Z"}
{"level":"info","message":"Received message: hey","timestamp":"2025-05-30T05:04:05.754Z"}
{"level":"info","message":"Sent response: Hello there! How can I help you with your skincare questions or The Ordinary website today?\n","timestamp":"2025-05-30T05:04:07.449Z"}
{"level":"info","message":"Received message: write and essay on my father","timestamp":"2025-05-30T05:04:23.597Z"}
{"level":"info","message":"Sent response: I'm sorry, but I can't write an essay about your father.  My purpose is to provide information and assistance related to The Ordinary skincare products and the website itself.  An essay about your father is outside the scope of my expertise.  Perhaps you could try a different AI writing tool or ask a friend or family member for help with this project.\n","timestamp":"2025-05-30T05:04:25.391Z"}
